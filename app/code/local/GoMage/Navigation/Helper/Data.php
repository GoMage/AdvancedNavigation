<?php eval(base64_decode("LyoqICogR29NYWdlIEFkdmFuY2VkIE5hdmlnYXRpb24gRXh0ZW5zaW9uICogKiBAY2F0ZWdvcnkgRXh0ZW5zaW9uICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMyBHb01hZ2UgKGh0dHA6Ly93d3cuZ29tYWdlLmNvbSkgKiBAYXV0aG9yIEdvTWFnZSAqIEBsaWNlbnNlIGh0dHA6Ly93d3cuZ29tYWdlLmNvbS9saWNlbnNlLWFncmVlbWVudC8gU2luZ2xlIGRvbWFpbiBsaWNlbnNlICogQHRlcm1zIG9mIHVzZSBodHRwOi8vd3d3LmdvbWFnZS5jb20vdGVybXMtb2YtdXNlICogQHZlcnNpb24gUmVsZWFzZTogNC4yICogQHNpbmNlIENsYXNzIGF2YWlsYWJsZSBzaW5jZSBSZWxlYXNlIDEuMCAqLyBjbGFzcyBHb01hZ2VfTmF2aWdhdGlvbl9IZWxwZXJfRGF0YSBleHRlbmRzIE1hZ2VfQ29yZV9IZWxwZXJfQWJzdHJhY3R7IHB1YmxpYyBmdW5jdGlvbiBnZXRDb25maWdEYXRhKCRub2RlKXsgcmV0dXJuIE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfbmF2aWdhdGlvbi8nLiRub2RlKTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0QWxsU3RvcmVEb21haW5zKCl7ICRkb21haW5zID0gYXJyYXkoKTsgZm9yZWFjaCAoTWFnZTo6YXBwKCktPmdldFdlYnNpdGVzKCkgYXMgJHdlYnNpdGUpIHsgJHVybCA9ICR3ZWJzaXRlLT5nZXRDb25maWcoJ3dlYi91bnNlY3VyZS9iYXNlX3VybCcpOyBpZigkZG9tYWluID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eLio/XFwvXFwvKC4qKT9cXC8vJywgJyQxJywgJHVybCkpKXsgJGRvbWFpbnNbXSA9ICRkb21haW47IH0gJHVybCA9ICR3ZWJzaXRlLT5nZXRDb25maWcoJ3dlYi9zZWN1cmUvYmFzZV91cmwnKTsgaWYoJGRvbWFpbiA9IHRyaW0ocHJlZ19yZXBsYWNlKCcvXi4qP1xcL1xcLyguKik/XFwvLycsICckMScsICR1cmwpKSl7ICRkb21haW5zW10gPSAkZG9tYWluOyB9IH0gcmV0dXJuIGFycmF5X3VuaXF1ZSgkZG9tYWlucyk7IH0gcHVibGljIGZ1bmN0aW9uIGdldEF2YWlsYWJlbFdlYnNpdGVzKCl7IHJldHVybiAkdGhpcy0+X3coKTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0QXZhaWxhdmVsV2Vic2l0ZXMoKXsgcmV0dXJuICR0aGlzLT5fdygpOyB9IHByb3RlY3RlZCBmdW5jdGlvbiBfdygpeyBpZighTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2FkdmFuY2VkbmF2aWdhdGlvbi9pbnN0YWxsZWQnKSB8fCAoaW50dmFsKE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vY291bnQnKSkgPiAxMCkpIHsgcmV0dXJuIGFycmF5KCk7IH0gJHRpbWVfdG9fdXBkYXRlID0gNjAqNjAqMjQqMTU7ICRyID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2FkdmFuY2VkbmF2aWdhdGlvbi9hcicpOyAkdCA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vdGltZScpOyAkcyA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vd2Vic2l0ZXMnKTsgJGxhc3RfY2hlY2sgPSBzdHJfcmVwbGFjZSgkciwgJycsIE1hZ2U6OmhlbHBlcignY29yZScpLT5kZWNyeXB0KCR0KSk7ICRhbGxzaXRlcyA9IGV4cGxvZGUoJywnLCBzdHJfcmVwbGFjZSgkciwgJycsIE1hZ2U6OmhlbHBlcignY29yZScpLT5kZWNyeXB0KCRzKSkpOyAkYWxsc2l0ZXMgPSBhcnJheV9kaWZmKCRhbGxzaXRlcywgYXJyYXkoIiIpKTsgaWYoKCRsYXN0X2NoZWNrKyR0aW1lX3RvX3VwZGF0ZSkgPCB0aW1lKCkpeyAkdGhpcy0+YShNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX2FjdGl2YXRpb24vYWR2YW5jZWRuYXZpZ2F0aW9uL2tleScpLCBpbnR2YWwoTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2FkdmFuY2VkbmF2aWdhdGlvbi9jb3VudCcpKSwgaW1wbG9kZSgnLCcsICRhbGxzaXRlcykpOyB9IHJldHVybiAkYWxsc2l0ZXM7IH0gcHVibGljIGZ1bmN0aW9uIGEoJGssICRjID0gMCwgJHMgPSAnJyl7ICRjaCA9IGN1cmxfaW5pdCgpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCBzcHJpbnRmKCdodHRwczovL3d3dy5nb21hZ2UuY29tL2luZGV4LnBocC9nb21hZ2VfZG93bmxvYWRhYmxlL2tleS9jaGVjaycpKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1QsIHRydWUpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgJ2tleT0nLnVybGVuY29kZSgkaykuJyZza3U9YWR2YW5jZWQtbmF2aWdhdGlvbiZkb21haW5zPScudXJsZW5jb2RlKGltcGxvZGUoJywnLCAkdGhpcy0+Z2V0QWxsU3RvcmVEb21haW5zKCkpKS4nJnZlcj0nLnVybGVuY29kZSgnNC4xJykpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgMzApOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIHRydWUpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsIDApOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWUhPU1QsIDApOyAkY29udGVudCA9IGN1cmxfZXhlYygkY2gpOyAkciA9IFplbmRfSnNvbjo6ZGVjb2RlKCRjb250ZW50KTsgJGUgPSBNYWdlOjpoZWxwZXIoJ2NvcmUnKTsgaWYoZW1wdHkoJHIpKXsgJHZhbHVlMSA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vYXInKTsgJGdyb3VwcyA9IGFycmF5KCAnYWR2YW5jZWRuYXZpZ2F0aW9uJz0+YXJyYXkoICdmaWVsZHMnPT5hcnJheSggJ2FyJz0+YXJyYXkoICd2YWx1ZSc9PiR2YWx1ZTEgKSwgJ3dlYnNpdGVzJz0+YXJyYXkoICd2YWx1ZSc9PihzdHJpbmcpTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2FkdmFuY2VkbmF2aWdhdGlvbi93ZWJzaXRlcycpICksICd0aW1lJz0+YXJyYXkoICd2YWx1ZSc9PihzdHJpbmcpJGUtPmVuY3J5cHQoJHZhbHVlMS4odGltZSgpLSg2MCo2MCoyNCoxNS0xODAwKSkuJHZhbHVlMSkgKSwgJ2NvdW50Jz0+YXJyYXkoICd2YWx1ZSc9PiRjKzEpICkgKSApOyBNYWdlOjpnZXRNb2RlbCgnYWRtaW5odG1sL2NvbmZpZ19kYXRhJykgLT5zZXRTZWN0aW9uKCdnb21hZ2VfYWN0aXZhdGlvbicpIC0+c2V0R3JvdXBzKCRncm91cHMpIC0+c2F2ZSgpOyBNYWdlOjpnZXRDb25maWcoKS0+cmVpbml0KCk7IE1hZ2U6OmFwcCgpLT5yZWluaXRTdG9yZXMoKTsgcmV0dXJuOyB9ICR2YWx1ZTEgPSAnJzsgJHZhbHVlMiA9ICcnOyBpZihpc3NldCgkclsnZCddKSAmJiBpc3NldCgkclsnYyddKSl7ICR2YWx1ZTEgPSAkZS0+ZW5jcnlwdChiYXNlNjRfZW5jb2RlKFplbmRfSnNvbjo6ZW5jb2RlKCRyKSkpOyBpZiAoISRzKSAkcyA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vd2Vic2l0ZXMnKTsgJHMgPSBhcnJheV9zbGljZShleHBsb2RlKCcsJywgJHMpLCAwLCAkclsnYyddKTsgJHZhbHVlMiA9ICRlLT5lbmNyeXB0KCR2YWx1ZTEuaW1wbG9kZSgnLCcsICRzKS4kdmFsdWUxKTsgfSAkZ3JvdXBzID0gYXJyYXkoICdhZHZhbmNlZG5hdmlnYXRpb24nPT5hcnJheSggJ2ZpZWxkcyc9PmFycmF5KCAnYXInPT5hcnJheSggJ3ZhbHVlJz0+JHZhbHVlMSApLCAnd2Vic2l0ZXMnPT5hcnJheSggJ3ZhbHVlJz0+KHN0cmluZykkdmFsdWUyICksICd0aW1lJz0+YXJyYXkoICd2YWx1ZSc9PihzdHJpbmcpJGUtPmVuY3J5cHQoJHZhbHVlMS50aW1lKCkuJHZhbHVlMSkgKSwgJ2luc3RhbGxlZCc9PmFycmF5KCAndmFsdWUnPT4xICksICdjb3VudCc9PmFycmF5KCAndmFsdWUnPT4wKSApICkgKTsgTWFnZTo6Z2V0TW9kZWwoJ2FkbWluaHRtbC9jb25maWdfZGF0YScpIC0+c2V0U2VjdGlvbignZ29tYWdlX2FjdGl2YXRpb24nKSAtPnNldEdyb3VwcygkZ3JvdXBzKSAtPnNhdmUoKTsgTWFnZTo6Z2V0Q29uZmlnKCktPnJlaW5pdCgpOyBNYWdlOjphcHAoKS0+cmVpbml0U3RvcmVzKCk7IH0gcHVibGljIGZ1bmN0aW9uIGdhKCl7IHJldHVybiBaZW5kX0pzb246OmRlY29kZShiYXNlNjRfZGVjb2RlKE1hZ2U6OmhlbHBlcignY29yZScpLT5kZWNyeXB0KE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vYXInKSkpKTsgfSBwdWJsaWMgZnVuY3Rpb24gaXNHb21hZ2VOYXZpZ2F0aW9uKCl7IGlmICgkdGhpcy0+aXNNb2JpbGVEZXZpY2UoKSAmJiBNYWdlOjpnZXRTdG9yZUNvbmZpZ0ZsYWcoJ2dvbWFnZV9uYXZpZ2F0aW9uL2dlbmVyYWwvZGlzYWJsZV9tb2JpbGUnKSl7IHJldHVybiBmYWxzZTsgfSByZXR1cm4gaW5fYXJyYXkoTWFnZTo6YXBwKCktPmdldFN0b3JlKCktPmdldFdlYnNpdGVJZCgpLCAkdGhpcy0+Z2V0QXZhaWxhdmVsV2Vic2l0ZXMoKSkgJiYgTWFnZTo6Z2V0U3RvcmVDb25maWdGbGFnKCdnb21hZ2VfbmF2aWdhdGlvbi9nZW5lcmFsL21vZGUnKTsgfSBwdWJsaWMgZnVuY3Rpb24gaXNHb21hZ2VOYXZpZ2F0aW9uQWpheCgpeyByZXR1cm4gJHRoaXMtPmlzR29tYWdlTmF2aWdhdGlvbigpICYmIE1hZ2U6OmdldFN0b3JlQ29uZmlnRmxhZygnZ29tYWdlX25hdmlnYXRpb24vZ2VuZXJhbC9wYWdlcicpICYmIChNYWdlOjpyZWdpc3RyeSgnY3VycmVudF9jYXRlZ29yeScpIHx8IChNYWdlOjphcHAoKS0+Z2V0RnJvbnRDb250cm9sbGVyKCktPmdldFJlcXVlc3QoKS0+Z2V0Um91dGVOYW1lKCkgPT0gJ2NhdGFsb2dzZWFyY2gnICYmIE1hZ2U6OmFwcCgpLT5nZXRGcm9udENvbnRyb2xsZXIoKS0+Z2V0UmVxdWVzdCgpLT5nZXRDb250cm9sbGVyTmFtZSgpICE9ICdhZHZhbmNlZCcpKTsgfSBwdWJsaWMgZnVuY3Rpb24gaXNHb21hZ2VOYXZpZ2F0aW9uQ2xlYXJBamF4KCl7IHJldHVybiAkdGhpcy0+aXNHb21hZ2VOYXZpZ2F0aW9uKCkmJiAoTWFnZTo6cmVnaXN0cnkoJ2N1cnJlbnRfY2F0ZWdvcnknKSB8fCAoTWFnZTo6YXBwKCktPmdldEZyb250Q29udHJvbGxlcigpLT5nZXRSZXF1ZXN0KCktPmdldFJvdXRlTmFtZSgpID09ICdjYXRhbG9nc2VhcmNoJyAmJiBNYWdlOjphcHAoKS0+Z2V0RnJvbnRDb250cm9sbGVyKCktPmdldFJlcXVlc3QoKS0+Z2V0Q29udHJvbGxlck5hbWUoKSAhPSAnYWR2YW5jZWQnKSk7IH0gcHVibGljIGZ1bmN0aW9uIGZvcm1hdENvbG9yKCR2YWx1ZSl7IGlmICgkdmFsdWUgPSBwcmVnX3JlcGxhY2UoJy9bXmEtekEtWjAtOVxzXS8nLCAnJywgJHZhbHVlKSl7ICR2YWx1ZSA9ICcjJyAuICR2YWx1ZTsgfSByZXR1cm4gJHZhbHVlOyB9IHB1YmxpYyBmdW5jdGlvbiBpc0ZyZW5kbHlVcmwoKXsgcmV0dXJuICR0aGlzLT5pc0dvbWFnZU5hdmlnYXRpb24oKSAmJiBNYWdlOjpnZXRTdG9yZUNvbmZpZ0ZsYWcoJ2dvbWFnZV9uYXZpZ2F0aW9uL2ZpbHRlcl9zZXR0aW5ncy9mcmVuZGx5dXJsJyk7IH0gcHVibGljIGZ1bmN0aW9uIGdldEZpbHRlclVybCgkcm91dGUgPSAnJywgJHBhcmFtcyA9IGFycmF5KCksICRmaWx0ZXIgPSBmYWxzZSl7IGlmICghJHRoaXMtPmlzRnJlbmRseVVybCgpKXsgJHVybCA9IE1hZ2U6OmdldFVybCgkcm91dGUsICRwYXJhbXMpOyAkYXJyID0gcGFyc2VfdXJsKCR1cmwpOyAkcGFycyA9IGV4cGxvZGUoJyZhbXA7JywkYXJyWydxdWVyeSddKTsgJG5ld1BhcmFtcyA9IGFycmF5KCk7IGZvcmVhY2goICRwYXJzIGFzICRfcGFyYW0pIHsgJF9wYXJhbSA9IHN0cl9yZXBsYWNlKCJhamF4PTEmIiwgIiIsICRfcGFyYW0pOyAkX3BhcmFtID0gc3RyX3JlcGxhY2UoImFqYXg9MSIsICIiLCAkX3BhcmFtKTsgaWYgKCAkX3BhcmFtICE9ICcnICkgeyAkbmV3UGFyYW1zW10gPSAkX3BhcmFtOyB9IH0gJHVybCA9ICRhcnJbJ3NjaGVtZSddIC4gJzovLycgLiAkYXJyWydob3N0J10gLiAkYXJyWydwYXRoJ10gLiAnPyc7IGlmICggJG5ld1BhcmFtcyApIHsgJGFyclsncXVlcnknXSA9IGltcGxvZGUoJyZhbXA7JywgJG5ld1BhcmFtcyk7ICR1cmwgLj0gJGFyclsncXVlcnknXTsgfSByZXR1cm4gJHVybDsgfSAkbW9kZWwgPSBNYWdlOjpnZXRNb2RlbCgnY29yZS91cmwnKTsgJHJlcXVlc3RfcXVlcnkgPSAkbW9kZWwtPmdldFJlcXVlc3QoKS0+Z2V0UXVlcnkoKTsgJGF0dHIgPSBNYWdlOjpyZWdpc3RyeSgnZ2FuX2ZpbHRlcl9hdHRyaWJ1dGVzJyk7IGZvcmVhY2goJG1vZGVsLT5nZXRSZXF1ZXN0KCktPmdldFF1ZXJ5KCkgYXMgJHBhcmFtID0+ICR2YWx1ZSl7IGlmICgkcGFyYW0gPT0gJ2NhdCcpeyAkdmFsdWVzID0gZXhwbG9kZSgnLCcsICR2YWx1ZSk7ICRwcmVwYXJlX3ZhbHVlcyA9IGFycmF5KCk7IGZvcmVhY2goJHZhbHVlcyBhcyAkX3ZhbHVlKXsgJGNhdGVnb3J5ID0gTWFnZTo6Z2V0TW9kZWwoJ2NhdGFsb2cvY2F0ZWdvcnknKS0+bG9hZCgkX3ZhbHVlKTsgaWYgKCRjYXRlZ29yeSAmJiAkY2F0ZWdvcnktPmdldElkKCkpeyAkcHJlcGFyZV92YWx1ZXNbXSA9ICRjYXRlZ29yeS0+Z2V0RGF0YSgndXJsX2tleScpOyB9IH0gJG1vZGVsLT5nZXRSZXF1ZXN0KCktPnNldFF1ZXJ5KCRwYXJhbSwgaW1wbG9kZSgnLCcsICRwcmVwYXJlX3ZhbHVlcykpOyB9ZWxzZWlmIChpc3NldCgkYXR0clskcGFyYW1dKSAmJiAhaW5fYXJyYXkoJGF0dHJbJHBhcmFtXVsndHlwZSddLCBhcnJheSgncHJpY2UnLCAnZGVjaW1hbCcpKSl7ICR2YWx1ZXMgPSBleHBsb2RlKCcsJywgJHZhbHVlKTsgJHByZXBhcmVfdmFsdWVzID0gYXJyYXkoKTsgZm9yZWFjaCgkdmFsdWVzIGFzICRfdmFsdWUpeyBmb3JlYWNoKCRhdHRyWyRwYXJhbV1bJ29wdGlvbnMnXSBhcyAkX2sgPT4gJF92KXsgaWYgKCRfdiA9PSAkX3ZhbHVlKXsgJHByZXBhcmVfdmFsdWVzW10gPSAkX2s7IGJyZWFrOyB9IH0gfSAkbW9kZWwtPmdldFJlcXVlc3QoKS0+c2V0UXVlcnkoJHBhcmFtLCBpbXBsb2RlKCcsJywgJHByZXBhcmVfdmFsdWVzKSk7IH0gZWxzZSBpZiAoICRwYXJhbSA9PSAncHJpY2UnICYmICRmaWx0ZXIgIT0gJ1ByaWNlJykgeyAkYXR0cmlidXRlSWQgPSBNYWdlOjpnZXRSZXNvdXJjZU1vZGVsKCdlYXYvZW50aXR5X2F0dHJpYnV0ZScpLT5nZXRJZEJ5Q29kZSgnY2F0YWxvZ19wcm9kdWN0JywncHJpY2UnKTsgJGF0dHJpYnV0ZSA9IE1hZ2U6OmdldE1vZGVsKCdjYXRhbG9nL3Jlc291cmNlX2Vhdl9hdHRyaWJ1dGUnKS0+bG9hZCgkYXR0cmlidXRlSWQpOyBpZiAoICgkYXR0cmlidXRlLT5nZXRSYW5nZU9wdGlvbnMoKSA9PSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX09wdGlvbnNyYW5nZTo6TUFOVUFMTFkgfHwgJGF0dHJpYnV0ZS0+Z2V0UmFuZ2VPcHRpb25zKCkgPT0gR29NYWdlX05hdmlnYXRpb25fTW9kZWxfQWRtaW5odG1sX1N5c3RlbV9Db25maWdfU291cmNlX0ZpbHRlcl9PcHRpb25zcmFuZ2U6OkFVVE8pICYmICRhdHRyaWJ1dGUtPmdldEZpbHRlclR5cGUoKSA9PSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9MYXllcjo6RklMVEVSX1RZUEVfREVGQVVMVCApIHsgJHZhbHVlcyA9IGV4cGxvZGUoJywnLCAkdmFsdWUpOyAkcGFyYW1zWydfcXVlcnknXVsncHJpY2VfZnJvbSddID0gJHZhbHVlc1swXTsgJHBhcmFtc1snX3F1ZXJ5J11bJ3ByaWNlX3RvJ10gPSAkdmFsdWVzWzFdOyB1bnNldCgkcGFyYW1zWydfcXVlcnknXVsncHJpY2UnXSk7IH0gfSB9IGZvcmVhY2ggKCRwYXJhbXNbJ19xdWVyeSddIGFzICRwYXJhbSA9PiAkdmFsdWUpeyBpZiAoJHZhbHVlKXsgaWYgKCRwYXJhbSA9PSAnY2F0Jyl7ICR2YWx1ZXMgPSBleHBsb2RlKCcsJywgJHZhbHVlKTsgJHByZXBhcmVfdmFsdWVzID0gYXJyYXkoKTsgZm9yZWFjaCgkdmFsdWVzIGFzICRfdmFsdWUpeyAkY2F0ZWdvcnkgPSBNYWdlOjpnZXRNb2RlbCgnY2F0YWxvZy9jYXRlZ29yeScpLT5sb2FkKCRfdmFsdWUpOyBpZiAoJGNhdGVnb3J5ICYmICRjYXRlZ29yeS0+Z2V0SWQoKSl7ICRwcmVwYXJlX3ZhbHVlc1tdID0gJGNhdGVnb3J5LT5nZXREYXRhKCd1cmxfa2V5Jyk7IH0gfSAkcGFyYW1zWydfcXVlcnknXVskcGFyYW1dID0gaW1wbG9kZSgnLCcsICRwcmVwYXJlX3ZhbHVlcyk7IH1lbHNlaWYgKGlzc2V0KCRhdHRyWyRwYXJhbV0pICYmICFpbl9hcnJheSgkYXR0clskcGFyYW1dWyd0eXBlJ10sIGFycmF5KCdwcmljZScsICdkZWNpbWFsJykpKXsgJHZhbHVlcyA9IGV4cGxvZGUoJywnLCAkdmFsdWUpOyAkcHJlcGFyZV92YWx1ZXMgPSBhcnJheSgpOyBmb3JlYWNoKCR2YWx1ZXMgYXMgJF92YWx1ZSl7IGZvcmVhY2goJGF0dHJbJHBhcmFtXVsnb3B0aW9ucyddIGFzICRfayA9PiAkX3YpeyBpZiAoJF92ID09ICRfdmFsdWUpeyAkcHJlcGFyZV92YWx1ZXNbXSA9ICRfazsgYnJlYWs7IH0gfSB9ICRwYXJhbXNbJ19xdWVyeSddWyRwYXJhbV0gPSBpbXBsb2RlKCcsJywgJHByZXBhcmVfdmFsdWVzKTsgfSBlbHNlIGlmICggJHBhcmFtID09ICdwcmljZScgJiYgJGZpbHRlciAhPSAnUHJpY2UnICkgeyAkYXR0cmlidXRlSWQgPSBNYWdlOjpnZXRSZXNvdXJjZU1vZGVsKCdlYXYvZW50aXR5X2F0dHJpYnV0ZScpLT5nZXRJZEJ5Q29kZSgnY2F0YWxvZ19wcm9kdWN0JywncHJpY2UnKTsgJGF0dHJpYnV0ZSA9IE1hZ2U6OmdldE1vZGVsKCdjYXRhbG9nL3Jlc291cmNlX2Vhdl9hdHRyaWJ1dGUnKS0+bG9hZCgkYXR0cmlidXRlSWQpOyBpZiAoICgkYXR0cmlidXRlLT5nZXRSYW5nZU9wdGlvbnMoKSA9PSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX09wdGlvbnNyYW5nZTo6TUFOVUFMTFkgfHwgJGF0dHJpYnV0ZS0+Z2V0UmFuZ2VPcHRpb25zKCkgPT0gR29NYWdlX05hdmlnYXRpb25fTW9kZWxfQWRtaW5odG1sX1N5c3RlbV9Db25maWdfU291cmNlX0ZpbHRlcl9PcHRpb25zcmFuZ2U6OkFVVE8pICYmICRhdHRyaWJ1dGUtPmdldEZpbHRlclR5cGUoKSA9PSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9MYXllcjo6RklMVEVSX1RZUEVfREVGQVVMVCApIHsgJHZhbHVlcyA9IGV4cGxvZGUoJywnLCAkdmFsdWUpOyAkcGFyYW1zWydfcXVlcnknXVsncHJpY2VfZnJvbSddID0gJHZhbHVlc1swXTsgJHBhcmFtc1snX3F1ZXJ5J11bJ3ByaWNlX3RvJ10gPSAkdmFsdWVzWzFdOyB1bnNldCgkcGFyYW1zWydfcXVlcnknXVsncHJpY2UnXSk7IH0gfSB9IH0gJHVybCA9ICRtb2RlbC0+Z2V0VXJsKCRyb3V0ZSwgJHBhcmFtcyk7ICRhcnIgPSBwYXJzZV91cmwoJHVybCk7ICRwYXJzID0gZXhwbG9kZSgnJmFtcDsnLCRhcnJbJ3F1ZXJ5J10pOyAkbmV3UGFyYW1zID0gYXJyYXkoKTsgZm9yZWFjaCggJHBhcnMgYXMgJF9wYXJhbSkgeyAkX3BhcmFtID0gc3RyX3JlcGxhY2UoImFqYXg9MSYiLCAiIiwgJF9wYXJhbSk7ICRfcGFyYW0gPSBzdHJfcmVwbGFjZSgiYWpheD0xIiwgIiIsICRfcGFyYW0pOyBpZiAoICRfcGFyYW0gIT0gJycgKSB7ICRuZXdQYXJhbXNbXSA9ICRfcGFyYW07IH0gfSAkdXJsID0gJGFyclsnc2NoZW1lJ10gLiAnOi8vJyAuICRhcnJbJ2hvc3QnXSAuICRhcnJbJ3BhdGgnXSAuICc/JzsgaWYgKCAkbmV3UGFyYW1zICkgeyAkYXJyWydxdWVyeSddID0gaW1wbG9kZSgnJmFtcDsnLCAkbmV3UGFyYW1zKTsgJHVybCAuPSAkYXJyWydxdWVyeSddOyB9IGZvcmVhY2goJHJlcXVlc3RfcXVlcnkgYXMgJHBhcmFtID0+ICR2YWx1ZSl7ICRtb2RlbC0+Z2V0UmVxdWVzdCgpLT5zZXRRdWVyeSgkcGFyYW0sICR2YWx1ZSk7IH0gcmV0dXJuICR1cmw7IH0gcHVibGljIGZ1bmN0aW9uIGZvcm1hdFVybFZhbHVlKCR2YWx1ZSl7ICR2YWx1ZSA9IHByZWdfcmVwbGFjZSgnI1teMC05YS16XSsjaScsICdfJywgTWFnZTo6aGVscGVyKCdjYXRhbG9nL3Byb2R1Y3RfdXJsJyktPmZvcm1hdCgkdmFsdWUpKTsgJHZhbHVlID0gc3RydG9sb3dlcigkdmFsdWUpOyAkdmFsdWUgPSB0cmltKCR2YWx1ZSwgJy0nKTsgcmV0dXJuICR2YWx1ZTsgfSBwdWJsaWMgZnVuY3Rpb24gaXNNb2JpbGVEZXZpY2UoKXsgJHVzZXJfYWdlbnQgPSBzdHJ0b2xvd2VyKCRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXSk7IGlmICghJHVzZXJfYWdlbnQgfHwgc3RycG9zKCR1c2VyX2FnZW50LCAnaXBhZCcpKSByZXR1cm4gZmFsc2U7ICRyZWdleF9tYXRjaD0iLyhub2tpYXxpcGhvbmV8YW5kcm9pZHxtb3Rvcm9sYXxebW90LXxzb2Z0YmFua3xmb21hfGRvY29tb3xrZGRpfHVwLmJyb3dzZXJ8dXAubGlua3wiOyAkcmVnZXhfbWF0Y2guPSJodGN8ZG9wb2R8YmxhemVyfG5ldGZyb250fGhlbGlvfGhvc2lufGh1YXdlaXxub3ZhcnJhfENvb2xQYWR8d2Vib3N8dGVjaGZhaXRofHBhbG1zb3VyY2V8IjsgJHJlZ2V4X21hdGNoLj0iYmxhY2tiZXJyeXxhbGNhdGVsfGFtb2l8a3RvdWNofG5leGlhbnxzYW1zdW5nfF5zYW0tfHNbY2ddaHxebGdlfGVyaWNzc29ufHBoaWxpcHN8c2FnZW18d2VsbGNvbXxidW5qYWxsb298bWF1aXwiOyAkcmVnZXhfbWF0Y2guPSJzeW1iaWFufHNtYXJ0cGhvbmV8bWlkcHx3YXB8cGhvbmV8d2luZG93cyBjZXxpZW1vYmlsZXxec3BpY2V8XmJpcmR8Xnp0ZS18bG9uZ2Nvc3xwYW50ZWNofGdpb25lZXxec2llLXxwb3J0YWxtbW18IjsgJHJlZ2V4X21hdGNoLj0iamlncyBicm93c2VyfGhpcHRvcHxedWN3ZWJ8XmJlbnF8aGFpZXJ8XmxjdHxvcGVyYXMqbW9iaXxvcGVyYSptaW5pfDMyMHgzMjB8MjQweDMyMHwxNzZ4MjIwIjsgJHJlZ2V4X21hdGNoLj0iKS9pIjsgcmV0dXJuIHByZWdfbWF0Y2goJHJlZ2V4X21hdGNoLCBzdHJ0b2xvd2VyKCR1c2VyX2FnZW50KSk7IH0gcHVibGljIGZ1bmN0aW9uIElzR29vZ2xlYm90KCl7IGlmKHByZWdfbWF0Y2goIi9Hb29nbGUvIiwkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10pIHx8IHByZWdfbWF0Y2goIi9ib3QvIiwkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10pKXsgJGlwID0gJF9TRVJWRVJbJ1JFTU9URV9BRERSJ107ICRuYW1lID0gZ2V0aG9zdGJ5YWRkcigkaXApOyBpZihwcmVnX21hdGNoKCIvR29vZ2xlYm90LyIsJG5hbWUpIHx8IHByZWdfbWF0Y2goIi9ib3QvIiwkbmFtZSkpeyAkaG9zdHMgPSBnZXRob3N0YnluYW1lbCgkbmFtZSk7IGZvcmVhY2goJGhvc3RzIGFzICRob3N0KXsgaWYgKCRob3N0ID09ICRpcCl7IHJldHVybiB0cnVlOyB9IH0gcmV0dXJuIGZhbHNlOyB9ZWxzZXsgcmV0dXJuIGZhbHNlOyB9IH1lbHNleyByZXR1cm4gdHJ1ZTsgfSByZXR1cm4gZmFsc2U7IH0gcHVibGljIGZ1bmN0aW9uIGdldEZpbHRlckl0ZW1Db3VudCgkZmlsdGVyKSB7ICRjb3VudCA9IDA7IGlmICggJGZpbHRlciAmJiAkZmlsdGVyLT5nZXRJdGVtcygpICkgeyBmb3JlYWNoKCAkZmlsdGVyLT5nZXRJdGVtcygpIGFzICRpdGVtICkgeyAkY291bnQgKz0gJGl0ZW0tPmdldENvdW50KCk7IH0gfSBpZiAoICRjb3VudCA9PSAwICYmICRmaWx0ZXItPmdldE5hbWUoKSA9PSAnU3RvY2snICkgeyByZXR1cm4gMTsgfSByZXR1cm4gJGNvdW50OyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRGaWx0ZXIoKSB7ICRmaWx0ZXIgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX25hdmlnYXRpb24vZmlsdGVyL2ZpbHRlcl9idG5fdHh0Jyk7IGlmICggJGZpbHRlciA9PSAnJyApIHsgJGZpbHRlciA9ICR0aGlzLT5fXygnRmlsdGVyJyk7IH0gcmV0dXJuICRmaWx0ZXI7IH0gcHVibGljIGZ1bmN0aW9uIGdldENsZWFyQWxsKCkgeyAkY2xlYXIgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX25hdmlnYXRpb24vZmlsdGVyL2NsZWFyX2J0bl90eHQnKTsgaWYgKCAkY2xlYXIgPT0gJycgKSB7ICRjbGVhciA9ICR0aGlzLT5fXygnQ2xlYXIgQWxsJyk7IH0gcmV0dXJuICRjbGVhcjsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0TW9yZSgpIHsgJG1vcmUgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX25hdmlnYXRpb24vZmlsdGVyL21vcmVfYnRuX3R4dCcpOyBpZiAoICRtb3JlID09ICcnICkgeyAkbW9yZSA9ICR0aGlzLT5fXygnTW9yZScpOyB9IHJldHVybiAkbW9yZTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0TGVzcygpIHsgJGxlc3MgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX25hdmlnYXRpb24vZmlsdGVyL2xlc3NfYnRuX3R4dCcpOyBpZiAoICRsZXNzID09ICcnICkgeyAkbGVzcyA9ICR0aGlzLT5fXygnTGVzcycpOyB9IHJldHVybiAkbGVzczsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0U2hvd21vcmUoKSB7ICRzaG93bW9yZSA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfbmF2aWdhdGlvbi9maWx0ZXIvc2hvd21vcmVfYnRuX3R4dCcpOyBpZiAoICRzaG93bW9yZSA9PSAnJyApIHsgJHNob3dtb3JlID0gJHRoaXMtPl9fKCdTaG93IG1vcmUgcHJvZHVjdHMnKTsgfSByZXR1cm4gJHNob3dtb3JlOyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRCYWNrdG90b3AoKSB7ICRiYWNrdG90b3AgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX25hdmlnYXRpb24vZmlsdGVyL2JhY2t0b3RvcF9idG5fdHh0Jyk7IGlmICggJGJhY2t0b3RvcCA9PSAnJyApIHsgJGJhY2t0b3RvcCA9ICR0aGlzLT5fXygnQmFjayB0byBUb3AnKTsgfSByZXR1cm4gJGJhY2t0b3RvcDsgfSBwdWJsaWMgZnVuY3Rpb24gaXNFbnRlcnByaXNlKCkgeyB0cnl7ICRlbnRlcnByaXNlID0gTWFnZTo6Z2V0TW9kZWwoJ2VudGVycHJpc2VfZW50ZXJwcmlzZS9vYnNlcnZlcicpOyB9IGNhdGNoIChFeGNlcHRpb24gJGUpeyAkZW50ZXJwcmlzZSA9IGZhbHNlOyB9IHJldHVybiAoYm9vbCkkZW50ZXJwcmlzZTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0U2lkZSgkdHlwZSkgeyBzd2l0Y2ggKCR0eXBlKXsgY2FzZSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX0F0dHJpYnV0ZWxvY2F0aW9uOjpMRUZUX0JMT0NLOiByZXR1cm4gJ2xlZnQnOyBicmVhazsgY2FzZSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX0F0dHJpYnV0ZWxvY2F0aW9uOjpDT05URU5UOiByZXR1cm4gJ2NvbnRlbnQnOyBicmVhazsgY2FzZSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX0F0dHJpYnV0ZWxvY2F0aW9uOjpSSUdIVF9CTE9DSzogcmV0dXJuICdyaWdodCc7IGJyZWFrOyBkZWZhdWx0OiByZXR1cm4gJ2xlZnQnOyBicmVhazsgfSB9IHB1YmxpYyBmdW5jdGlvbiBnZXRDbGVhckxpbmtVcmwoJF9maWx0ZXIpeyBpZiAoICRfZmlsdGVyLT5nZXROYW1lKCkgPT0gJ1ByaWNlJyB8fCAkX2ZpbHRlci0+Z2V0TmFtZSgpID09ICdTcGVjaWFsIFByaWNlJykgeyBpZiAoICRfZmlsdGVyLT5nZXROYW1lKCkgPT0gJ1ByaWNlJyApIHsgJGNvZGUgPSAncHJpY2UnOyB9IGVsc2UgeyAkY29kZSA9ICdzcGVjaWFsX3ByaWNlJzsgfSAkYXR0cmlidXRlSWQgPSBNYWdlOjpnZXRSZXNvdXJjZU1vZGVsKCdlYXYvZW50aXR5X2F0dHJpYnV0ZScpLT5nZXRJZEJ5Q29kZSgnY2F0YWxvZ19wcm9kdWN0JywkY29kZSk7ICRhdHRyaWJ1dGUgPSBNYWdlOjpnZXRNb2RlbCgnY2F0YWxvZy9yZXNvdXJjZV9lYXZfYXR0cmlidXRlJyktPmxvYWQoJGF0dHJpYnV0ZUlkKTsgaWYgKCBpbl9hcnJheSgkYXR0cmlidXRlLT5nZXRGaWx0ZXJUeXBlKCksIGFycmF5KCBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9MYXllcjo6RklMVEVSX1RZUEVfU0xJREVSLCBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9MYXllcjo6RklMVEVSX1RZUEVfU0xJREVSX0lOUFVULCBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9MYXllcjo6RklMVEVSX1RZUEVfSU5QVVRfU0xJREVSKSkgfHwgKCRhdHRyaWJ1dGUtPmdldEZpbHRlclR5cGUoKSA9PSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9MYXllcjo6RklMVEVSX1RZUEVfREVGQVVMVCAmJiAkYXR0cmlidXRlLT5nZXRSYW5nZU9wdGlvbnMoKSAhPSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX09wdGlvbnNyYW5nZTo6Tk8pKSB7ICRwYXJhbXMgPSBhcnJheSgpOyAkcGFyYW1zWydfbm9zaWQnXSA9IHRydWU7ICRwYXJhbXNbJ19jdXJyZW50J10gPSB0cnVlOyAkcGFyYW1zWydfdXNlX3Jld3JpdGUnXSA9IHRydWU7ICRwYXJhbXNbJ19lc2NhcGUnXSA9IGZhbHNlOyAkdXJsID0gTWFnZTo6aGVscGVyKCdnb21hZ2VfbmF2aWdhdGlvbicpLT5nZXRGaWx0ZXJVcmwoJyovKi8qJywgJHBhcmFtcyk7ICRjbGVhbl91cmwgPSBNYWdlOjpoZWxwZXIoJ2dvbWFnZV9uYXZpZ2F0aW9uJyktPmdldEZpbHRlclVybCgnKi8qLyonLCBhcnJheSgnX2N1cnJlbnQnPT50cnVlLCAnX25vc2lkJz0+dHJ1ZSwgJ191c2VfcmV3cml0ZSc9PnRydWUsICdfcXVlcnknPT5hcnJheSgpLCAnX2VzY2FwZSc9PmZhbHNlKSk7IGlmICggc3RycG9zKCRjbGVhbl91cmwsICI/IikgIT09IGZhbHNlICkgeyAkY2xlYW5fdXJsID0gc3Vic3RyKCRjbGVhbl91cmwsIDAsIHN0cnBvcygkY2xlYW5fdXJsLCAnPycpKTsgfSAkcGFyYW1zID0gc3RyX3JlcGxhY2UoJGNsZWFuX3VybCwgIiIsICR1cmwpOyAkcGFyYW1zID0gc3RyX3JlcGxhY2UoIj8iLCAiIiwgJHBhcmFtcyk7ICRwYXJBcnJheSA9IGV4cGxvZGUoIiYiLCAkcGFyYW1zKTsgJG5ld1BhckFycmF5ID0gYXJyYXkoKTsgZm9yZWFjaCggJHBhckFycmF5IGFzICRwYXIgKSB7ICRleHBhciA9IGV4cGxvZGUoIj0iLCAkcGFyKTsgaWYgKCAkZXhwYXJbMF0gIT0gJGNvZGUgLiAnX2Zyb20nICYmICRleHBhclswXSAhPSAkY29kZSAuICdfdG8nICkgeyAkbmV3UGFyQXJyYXlbXSA9ICRwYXI7IH0gfSBpZiAoICRuZXdQYXJBcnJheSApIHsgaWYgKCAkX2ZpbHRlci0+Z2V0QWpheEVuYWJsZWQoKSApIHsgcmV0dXJuICRjbGVhbl91cmwgLiAnPycgLiBpbXBsb2RlKCImIiwgJG5ld1BhckFycmF5KSAuICcmYWpheD0xJzsgfSBlbHNlIHsgcmV0dXJuICRjbGVhbl91cmwgLiAnPycgLiBpbXBsb2RlKCImIiwgJG5ld1BhckFycmF5KTsgfSB9IGVsc2UgeyBpZiAoICRfZmlsdGVyLT5nZXRBamF4RW5hYmxlZCgpICkgeyByZXR1cm4gJGNsZWFuX3VybCAuICc/YWpheD0xJzsgfSBlbHNlIHsgcmV0dXJuICRjbGVhbl91cmw7IH0gfSB9IGVsc2UgeyByZXR1cm4gJF9maWx0ZXItPmdldENsZWFyTGlua1VybCgpOyB9IH0gZWxzZSB7IHJldHVybiAkX2ZpbHRlci0+Z2V0Q2xlYXJMaW5rVXJsKCk7IH0gfSBwdWJsaWMgZnVuY3Rpb24gbm90aWZ5KCl7ICRmcmVxdWVuY3kgPSBpbnR2YWwoTWFnZTo6YXBwKCktPmxvYWRDYWNoZSgnZ29tYWdlX25vdGlmaWNhdGlvbnNfZnJlcXVlbmN5JykpOyBpZiAoISRmcmVxdWVuY3kpeyAkZnJlcXVlbmN5ID0gMjQ7IH0gJGxhc3RfdXBkYXRlID0gaW50dmFsKE1hZ2U6OmFwcCgpLT5sb2FkQ2FjaGUoJ2dvbWFnZV9ub3RpZmljYXRpb25zX2xhc3RfdXBkYXRlJykpOyBpZiAoKCRmcmVxdWVuY3kgKiA2MCAqIDYwICsgJGxhc3RfdXBkYXRlKSA+IHRpbWUoKSkgeyByZXR1cm4gZmFsc2U7IH0gJHRpbWVzdGFtcCA9ICRsYXN0X3VwZGF0ZTsgaWYgKCEkdGltZXN0YW1wKXsgJHRpbWVzdGFtcCA9IHRpbWUoKTsgfSB0cnl7ICRjaCA9IGN1cmxfaW5pdCgpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCBzcHJpbnRmKCdodHRwczovL3d3dy5nb21hZ2UuY29tL2luZGV4LnBocC9nb21hZ2Vfbm90aWZpY2F0aW9uL2luZGV4L2RhdGEnKSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCB0cnVlKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1RGSUVMRFMsICdza3U9YWR2YW5jZWQtbmF2aWdhdGlvbiZ0aW1lc3RhbXA9Jy4kdGltZXN0YW1wLicmdmVyPScudXJsZW5jb2RlKCc0LjEnKSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9USU1FT1VULCAzMCk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgMCk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZSE9TVCwgMCk7ICRjb250ZW50ID0gY3VybF9leGVjKCRjaCk7ICRyZXN1bHQgPSBaZW5kX0pzb246OmRlY29kZSgkY29udGVudCk7IGlmICgkcmVzdWx0ICYmIGlzc2V0KCRyZXN1bHRbJ2ZyZXF1ZW5jeSddKSAmJiAoJHJlc3VsdFsnZnJlcXVlbmN5J10gIT0gJGZyZXF1ZW5jeSkpeyBNYWdlOjphcHAoKS0+c2F2ZUNhY2hlKCRyZXN1bHRbJ2ZyZXF1ZW5jeSddLCAnZ29tYWdlX25vdGlmaWNhdGlvbnNfZnJlcXVlbmN5Jyk7IH0gaWYgKCRyZXN1bHQgJiYgaXNzZXQoJHJlc3VsdFsnZGF0YSddKSl7IGlmICghZW1wdHkoJHJlc3VsdFsnZGF0YSddKSl7IE1hZ2U6OmdldE1vZGVsKCdhZG1pbm5vdGlmaWNhdGlvbi9pbmJveCcpLT5wYXJzZSgkcmVzdWx0WydkYXRhJ10pOyB9IH0gfSBjYXRjaCAoRXhjZXB0aW9uICRlKXt9IE1hZ2U6OmFwcCgpLT5zYXZlQ2FjaGUodGltZSgpLCAnZ29tYWdlX25vdGlmaWNhdGlvbnNfbGFzdF91cGRhdGUnKTsgfSB9"));