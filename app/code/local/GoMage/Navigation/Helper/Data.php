<?php eval(base64_decode("LyoqICogR29NYWdlIEFkdmFuY2VkIE5hdmlnYXRpb24gRXh0ZW5zaW9uICogKiBAY2F0ZWdvcnkgRXh0ZW5zaW9uICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMyBHb01hZ2UgKGh0dHA6Ly93d3cuZ29tYWdlLmNvbSkgKiBAYXV0aG9yIEdvTWFnZSAqIEBsaWNlbnNlIGh0dHA6Ly93d3cuZ29tYWdlLmNvbS9saWNlbnNlLWFncmVlbWVudC8gU2luZ2xlIGRvbWFpbiBsaWNlbnNlICogQHRlcm1zIG9mIHVzZSBodHRwOi8vd3d3LmdvbWFnZS5jb20vdGVybXMtb2YtdXNlICogQHZlcnNpb24gUmVsZWFzZTogNC4yICogQHNpbmNlIENsYXNzIGF2YWlsYWJsZSBzaW5jZSBSZWxlYXNlIDEuMCAqLyByZXF1aXJlX29uY2UgKE1hZ2U6OmdldEJhc2VEaXIoJ2xpYicpIC4gRFMgLiAnR29NYWdlJyAuIERTIC4gJ01vYmlsZURldGVjdCcgLiBEUyAuICdNb2JpbGVfRGV0ZWN0LnBocCcpOyBjbGFzcyBHb01hZ2VfTmF2aWdhdGlvbl9IZWxwZXJfRGF0YSBleHRlbmRzIE1hZ2VfQ29yZV9IZWxwZXJfQWJzdHJhY3R7IHB1YmxpYyBmdW5jdGlvbiBnZXRDb25maWdEYXRhKCRub2RlKXsgcmV0dXJuIE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfbmF2aWdhdGlvbi8nLiRub2RlKTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0QWxsU3RvcmVEb21haW5zKCl7ICRkb21haW5zID0gYXJyYXkoKTsgZm9yZWFjaCAoTWFnZTo6YXBwKCktPmdldFdlYnNpdGVzKCkgYXMgJHdlYnNpdGUpIHsgJHVybCA9ICR3ZWJzaXRlLT5nZXRDb25maWcoJ3dlYi91bnNlY3VyZS9iYXNlX3VybCcpOyBpZigkZG9tYWluID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eLio/XFwvXFwvKC4qKT9cXC8vJywgJyQxJywgJHVybCkpKXsgJGRvbWFpbnNbXSA9ICRkb21haW47IH0gJHVybCA9ICR3ZWJzaXRlLT5nZXRDb25maWcoJ3dlYi9zZWN1cmUvYmFzZV91cmwnKTsgaWYoJGRvbWFpbiA9IHRyaW0ocHJlZ19yZXBsYWNlKCcvXi4qP1xcL1xcLyguKik/XFwvLycsICckMScsICR1cmwpKSl7ICRkb21haW5zW10gPSAkZG9tYWluOyB9IH0gcmV0dXJuIGFycmF5X3VuaXF1ZSgkZG9tYWlucyk7IH0gcHVibGljIGZ1bmN0aW9uIGdldEF2YWlsYWJlbFdlYnNpdGVzKCl7IHJldHVybiAkdGhpcy0+X3coKTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0QXZhaWxhdmVsV2Vic2l0ZXMoKXsgcmV0dXJuICR0aGlzLT5fdygpOyB9IHByb3RlY3RlZCBmdW5jdGlvbiBfdygpeyBpZighTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2FkdmFuY2VkbmF2aWdhdGlvbi9pbnN0YWxsZWQnKSB8fCAoaW50dmFsKE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vY291bnQnKSkgPiAxMCkpIHsgcmV0dXJuIGFycmF5KCk7IH0gJHRpbWVfdG9fdXBkYXRlID0gNjAqNjAqMjQqMTU7ICRyID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2FkdmFuY2VkbmF2aWdhdGlvbi9hcicpOyAkdCA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vdGltZScpOyAkcyA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vd2Vic2l0ZXMnKTsgJGxhc3RfY2hlY2sgPSBzdHJfcmVwbGFjZSgkciwgJycsIE1hZ2U6OmhlbHBlcignY29yZScpLT5kZWNyeXB0KCR0KSk7ICRhbGxzaXRlcyA9IGV4cGxvZGUoJywnLCBzdHJfcmVwbGFjZSgkciwgJycsIE1hZ2U6OmhlbHBlcignY29yZScpLT5kZWNyeXB0KCRzKSkpOyAkYWxsc2l0ZXMgPSBhcnJheV9kaWZmKCRhbGxzaXRlcywgYXJyYXkoIiIpKTsgaWYoKCRsYXN0X2NoZWNrKyR0aW1lX3RvX3VwZGF0ZSkgPCB0aW1lKCkpeyAkdGhpcy0+YShNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX2FjdGl2YXRpb24vYWR2YW5jZWRuYXZpZ2F0aW9uL2tleScpLCBpbnR2YWwoTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2FkdmFuY2VkbmF2aWdhdGlvbi9jb3VudCcpKSwgaW1wbG9kZSgnLCcsICRhbGxzaXRlcykpOyB9IHJldHVybiAkYWxsc2l0ZXM7IH0gcHVibGljIGZ1bmN0aW9uIGEoJGssICRjID0gMCwgJHMgPSAnJyl7ICRjaCA9IGN1cmxfaW5pdCgpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCBzcHJpbnRmKCdodHRwczovL3d3dy5nb21hZ2UuY29tL2luZGV4LnBocC9nb21hZ2VfZG93bmxvYWRhYmxlL2tleS9jaGVjaycpKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1QsIHRydWUpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgJ2tleT0nLnVybGVuY29kZSgkaykuJyZza3U9YWR2YW5jZWQtbmF2aWdhdGlvbiZkb21haW5zPScudXJsZW5jb2RlKGltcGxvZGUoJywnLCAkdGhpcy0+Z2V0QWxsU3RvcmVEb21haW5zKCkpKS4nJnZlcj0nLnVybGVuY29kZSgnNC4yJykpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgMzApOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIHRydWUpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsIDApOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWUhPU1QsIDApOyAkY29udGVudCA9IGN1cmxfZXhlYygkY2gpOyAkciA9IFplbmRfSnNvbjo6ZGVjb2RlKCRjb250ZW50KTsgJGUgPSBNYWdlOjpoZWxwZXIoJ2NvcmUnKTsgaWYoZW1wdHkoJHIpKXsgJHZhbHVlMSA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vYXInKTsgJGdyb3VwcyA9IGFycmF5KCAnYWR2YW5jZWRuYXZpZ2F0aW9uJz0+YXJyYXkoICdmaWVsZHMnPT5hcnJheSggJ2FyJz0+YXJyYXkoICd2YWx1ZSc9PiR2YWx1ZTEgKSwgJ3dlYnNpdGVzJz0+YXJyYXkoICd2YWx1ZSc9PihzdHJpbmcpTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2FkdmFuY2VkbmF2aWdhdGlvbi93ZWJzaXRlcycpICksICd0aW1lJz0+YXJyYXkoICd2YWx1ZSc9PihzdHJpbmcpJGUtPmVuY3J5cHQoJHZhbHVlMS4odGltZSgpLSg2MCo2MCoyNCoxNS0xODAwKSkuJHZhbHVlMSkgKSwgJ2NvdW50Jz0+YXJyYXkoICd2YWx1ZSc9PiRjKzEpICkgKSApOyBNYWdlOjpnZXRNb2RlbCgnYWRtaW5odG1sL2NvbmZpZ19kYXRhJykgLT5zZXRTZWN0aW9uKCdnb21hZ2VfYWN0aXZhdGlvbicpIC0+c2V0R3JvdXBzKCRncm91cHMpIC0+c2F2ZSgpOyBNYWdlOjpnZXRDb25maWcoKS0+cmVpbml0KCk7IE1hZ2U6OmFwcCgpLT5yZWluaXRTdG9yZXMoKTsgcmV0dXJuOyB9ICR2YWx1ZTEgPSAnJzsgJHZhbHVlMiA9ICcnOyBpZihpc3NldCgkclsnZCddKSAmJiBpc3NldCgkclsnYyddKSl7ICR2YWx1ZTEgPSAkZS0+ZW5jcnlwdChiYXNlNjRfZW5jb2RlKFplbmRfSnNvbjo6ZW5jb2RlKCRyKSkpOyBpZiAoISRzKSAkcyA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vd2Vic2l0ZXMnKTsgJHMgPSBhcnJheV9zbGljZShleHBsb2RlKCcsJywgJHMpLCAwLCAkclsnYyddKTsgJHZhbHVlMiA9ICRlLT5lbmNyeXB0KCR2YWx1ZTEuaW1wbG9kZSgnLCcsICRzKS4kdmFsdWUxKTsgfSAkZ3JvdXBzID0gYXJyYXkoICdhZHZhbmNlZG5hdmlnYXRpb24nPT5hcnJheSggJ2ZpZWxkcyc9PmFycmF5KCAnYXInPT5hcnJheSggJ3ZhbHVlJz0+JHZhbHVlMSApLCAnd2Vic2l0ZXMnPT5hcnJheSggJ3ZhbHVlJz0+KHN0cmluZykkdmFsdWUyICksICd0aW1lJz0+YXJyYXkoICd2YWx1ZSc9PihzdHJpbmcpJGUtPmVuY3J5cHQoJHZhbHVlMS50aW1lKCkuJHZhbHVlMSkgKSwgJ2luc3RhbGxlZCc9PmFycmF5KCAndmFsdWUnPT4xICksICdjb3VudCc9PmFycmF5KCAndmFsdWUnPT4wKSApICkgKTsgTWFnZTo6Z2V0TW9kZWwoJ2FkbWluaHRtbC9jb25maWdfZGF0YScpIC0+c2V0U2VjdGlvbignZ29tYWdlX2FjdGl2YXRpb24nKSAtPnNldEdyb3VwcygkZ3JvdXBzKSAtPnNhdmUoKTsgTWFnZTo6Z2V0Q29uZmlnKCktPnJlaW5pdCgpOyBNYWdlOjphcHAoKS0+cmVpbml0U3RvcmVzKCk7IH0gcHVibGljIGZ1bmN0aW9uIGdhKCl7IHJldHVybiBaZW5kX0pzb246OmRlY29kZShiYXNlNjRfZGVjb2RlKE1hZ2U6OmhlbHBlcignY29yZScpLT5kZWNyeXB0KE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9hZHZhbmNlZG5hdmlnYXRpb24vYXInKSkpKTsgfSBwdWJsaWMgZnVuY3Rpb24gaXNHb21hZ2VOYXZpZ2F0aW9uKCl7IGlmICgkdGhpcy0+aXNNb2JpbGVEZXZpY2UoKSAmJiBNYWdlOjpnZXRTdG9yZUNvbmZpZ0ZsYWcoJ2dvbWFnZV9uYXZpZ2F0aW9uL2dlbmVyYWwvZGlzYWJsZV9tb2JpbGUnKSl7IHJldHVybiBmYWxzZTsgfSByZXR1cm4gaW5fYXJyYXkoTWFnZTo6YXBwKCktPmdldFN0b3JlKCktPmdldFdlYnNpdGVJZCgpLCAkdGhpcy0+Z2V0QXZhaWxhdmVsV2Vic2l0ZXMoKSkgJiYgTWFnZTo6Z2V0U3RvcmVDb25maWdGbGFnKCdnb21hZ2VfbmF2aWdhdGlvbi9nZW5lcmFsL21vZGUnKTsgfSBwdWJsaWMgZnVuY3Rpb24gaXNHb21hZ2VOYXZpZ2F0aW9uQWpheCgpeyByZXR1cm4gJHRoaXMtPmlzR29tYWdlTmF2aWdhdGlvbigpICYmIE1hZ2U6OmdldFN0b3JlQ29uZmlnRmxhZygnZ29tYWdlX25hdmlnYXRpb24vZ2VuZXJhbC9wYWdlcicpICYmIChNYWdlOjpyZWdpc3RyeSgnY3VycmVudF9jYXRlZ29yeScpIHx8IChNYWdlOjphcHAoKS0+Z2V0RnJvbnRDb250cm9sbGVyKCktPmdldFJlcXVlc3QoKS0+Z2V0Um91dGVOYW1lKCkgPT0gJ2NhdGFsb2dzZWFyY2gnICYmIE1hZ2U6OmFwcCgpLT5nZXRGcm9udENvbnRyb2xsZXIoKS0+Z2V0UmVxdWVzdCgpLT5nZXRDb250cm9sbGVyTmFtZSgpICE9ICdhZHZhbmNlZCcpKTsgfSBwdWJsaWMgZnVuY3Rpb24gaXNHb21hZ2VOYXZpZ2F0aW9uQ2xlYXJBamF4KCl7IHJldHVybiAkdGhpcy0+aXNHb21hZ2VOYXZpZ2F0aW9uKCkmJiAoTWFnZTo6cmVnaXN0cnkoJ2N1cnJlbnRfY2F0ZWdvcnknKSB8fCAoTWFnZTo6YXBwKCktPmdldEZyb250Q29udHJvbGxlcigpLT5nZXRSZXF1ZXN0KCktPmdldFJvdXRlTmFtZSgpID09ICdjYXRhbG9nc2VhcmNoJyAmJiBNYWdlOjphcHAoKS0+Z2V0RnJvbnRDb250cm9sbGVyKCktPmdldFJlcXVlc3QoKS0+Z2V0Q29udHJvbGxlck5hbWUoKSAhPSAnYWR2YW5jZWQnKSk7IH0gcHVibGljIGZ1bmN0aW9uIGZvcm1hdENvbG9yKCR2YWx1ZSl7IGlmICgkdmFsdWUgPSBwcmVnX3JlcGxhY2UoJy9bXmEtekEtWjAtOVxzXS8nLCAnJywgJHZhbHVlKSl7ICR2YWx1ZSA9ICcjJyAuICR2YWx1ZTsgfSByZXR1cm4gJHZhbHVlOyB9IHB1YmxpYyBmdW5jdGlvbiBpc0ZyZW5kbHlVcmwoKXsgcmV0dXJuICR0aGlzLT5pc0dvbWFnZU5hdmlnYXRpb24oKSAmJiBNYWdlOjpnZXRTdG9yZUNvbmZpZ0ZsYWcoJ2dvbWFnZV9uYXZpZ2F0aW9uL2ZpbHRlcl9zZXR0aW5ncy9mcmVuZGx5dXJsJyk7IH0gcHVibGljIGZ1bmN0aW9uIGdldEZpbHRlclVybCgkcm91dGUgPSAnJywgJHBhcmFtcyA9IGFycmF5KCksICRmaWx0ZXIgPSBmYWxzZSl7IGlmICghJHRoaXMtPmlzRnJlbmRseVVybCgpKXsgJHVybCA9IE1hZ2U6OmdldFVybCgkcm91dGUsICRwYXJhbXMpOyAkYXJyID0gcGFyc2VfdXJsKCR1cmwpOyAkcXVlcnlTdHJpbmcgPSBmYWxzZTsgaWYgKCBpc3NldCgkYXJyWydxdWVyeSddKSApIHsgcGFyc2Vfc3RyKGh0bWxzcGVjaWFsY2hhcnNfZGVjb2RlKCRhcnJbJ3F1ZXJ5J10pLCAkcGFyKTsgaWYoaXNzZXQoJHBhclsnYWpheCddKSkgeyB1bnNldCgkcGFyWydhamF4J10pOyB9ICRxdWVyeVN0cmluZyA9IGh0dHBfYnVpbGRfcXVlcnkoJHBhcik7IH0gJHVybCA9ICRhcnJbJ3NjaGVtZSddIC4gJzovLycgLiAkYXJyWydob3N0J10gLiAkYXJyWydwYXRoJ10gLiAnPyc7IGlmICggJHF1ZXJ5U3RyaW5nICkgeyAkdXJsIC49ICRxdWVyeVN0cmluZzsgfSByZXR1cm4gJHVybDsgfSAkbW9kZWwgPSBNYWdlOjpnZXRNb2RlbCgnY29yZS91cmwnKTsgJHJlcXVlc3RfcXVlcnkgPSAkbW9kZWwtPmdldFJlcXVlc3QoKS0+Z2V0UXVlcnkoKTsgJGF0dHIgPSBNYWdlOjpyZWdpc3RyeSgnZ2FuX2ZpbHRlcl9hdHRyaWJ1dGVzJyk7IGZvcmVhY2goJG1vZGVsLT5nZXRSZXF1ZXN0KCktPmdldFF1ZXJ5KCkgYXMgJHBhcmFtID0+ICR2YWx1ZSl7ICRhdHRyaWJ1dGVNb2RlbCA9IE1hZ2U6OmdldE1vZGVsKCdlYXYvZW50aXR5X2F0dHJpYnV0ZScpLT5sb2FkQnlDb2RlKCdjYXRhbG9nX3Byb2R1Y3QnLCAkcGFyYW0pOyBpZiAoJHBhcmFtID09ICdjYXQnKXsgJHZhbHVlcyA9IGV4cGxvZGUoJywnLCAkdmFsdWUpOyAkcHJlcGFyZV92YWx1ZXMgPSBhcnJheSgpOyBmb3JlYWNoKCR2YWx1ZXMgYXMgJF92YWx1ZSl7ICRjYXRlZ29yeSA9IE1hZ2U6OmdldE1vZGVsKCdjYXRhbG9nL2NhdGVnb3J5JyktPmxvYWQoJF92YWx1ZSk7IGlmICgkY2F0ZWdvcnkgJiYgJGNhdGVnb3J5LT5nZXRJZCgpKXsgJHByZXBhcmVfdmFsdWVzW10gPSAkY2F0ZWdvcnktPmdldERhdGEoJ3VybF9rZXknKTsgfSB9ICRtb2RlbC0+Z2V0UmVxdWVzdCgpLT5zZXRRdWVyeSgkcGFyYW0sIGltcGxvZGUoJywnLCAkcHJlcGFyZV92YWx1ZXMpKTsgfWVsc2VpZiAoaXNzZXQoJGF0dHJbJHBhcmFtXSkgJiYgIWluX2FycmF5KCRhdHRyWyRwYXJhbV1bJ3R5cGUnXSwgYXJyYXkoJ3ByaWNlJywgJ2RlY2ltYWwnKSkpeyAkdmFsdWVzID0gZXhwbG9kZSgnLCcsICR2YWx1ZSk7ICRwcmVwYXJlX3ZhbHVlcyA9IGFycmF5KCk7IGZvcmVhY2goJHZhbHVlcyBhcyAkX3ZhbHVlKXsgZm9yZWFjaCgkYXR0clskcGFyYW1dWydvcHRpb25zJ10gYXMgJF9rID0+ICRfdil7IGlmICgkX3YgPT0gJF92YWx1ZSl7ICRwcmVwYXJlX3ZhbHVlc1tdID0gJF9rOyBicmVhazsgfSB9IH0gJG1vZGVsLT5nZXRSZXF1ZXN0KCktPnNldFF1ZXJ5KCRwYXJhbSwgaW1wbG9kZSgnLCcsICRwcmVwYXJlX3ZhbHVlcykpOyB9IGVsc2UgaWYgKCAkYXR0cmlidXRlTW9kZWwtPmdldEZyb250ZW5kSW5wdXQoKSA9PSAkcGFyYW0gKSB7ICRhdHRyaWJ1dGUgPSBNYWdlOjpnZXRNb2RlbCgnY2F0YWxvZy9yZXNvdXJjZV9lYXZfYXR0cmlidXRlJyktPmxvYWQoJGF0dHJpYnV0ZU1vZGVsLT5nZXRJZCgpKTsgaWYgKCAoJGF0dHJpYnV0ZS0+Z2V0UmFuZ2VPcHRpb25zKCkgPT0gR29NYWdlX05hdmlnYXRpb25fTW9kZWxfQWRtaW5odG1sX1N5c3RlbV9Db25maWdfU291cmNlX0ZpbHRlcl9PcHRpb25zcmFuZ2U6Ok1BTlVBTExZIHx8ICRhdHRyaWJ1dGUtPmdldFJhbmdlT3B0aW9ucygpID09IEdvTWFnZV9OYXZpZ2F0aW9uX01vZGVsX0FkbWluaHRtbF9TeXN0ZW1fQ29uZmlnX1NvdXJjZV9GaWx0ZXJfT3B0aW9uc3JhbmdlOjpBVVRPKSAmJiAkYXR0cmlidXRlLT5nZXRGaWx0ZXJUeXBlKCkgPT0gR29NYWdlX05hdmlnYXRpb25fTW9kZWxfTGF5ZXI6OkZJTFRFUl9UWVBFX0RFRkFVTFQgKSB7ICR2YWx1ZXMgPSBleHBsb2RlKCcsJywgJHZhbHVlKTsgJHBhcmFtc1snX3F1ZXJ5J11bJGF0dHJpYnV0ZS0+Z2V0QXR0cmlidXRlQ29kZSgpIC4gJ19mcm9tJ10gPSAkdmFsdWVzWzBdOyAkcGFyYW1zWydfcXVlcnknXVskYXR0cmlidXRlLT5nZXRBdHRyaWJ1dGVDb2RlKCkgLiAnX3RvJ10gPSAkdmFsdWVzWzFdOyB1bnNldCgkcGFyYW1zWydfcXVlcnknXVskYXR0cmlidXRlLT5nZXRBdHRyaWJ1dGVDb2RlKCldKTsgfSBlbHNlIHsgJHZhbHVlcyA9IGV4cGxvZGUoJywnLCAkdmFsdWUpOyAkcHJlcGFyZV92YWx1ZXMgPSBhcnJheSgpOyBmb3JlYWNoKCR2YWx1ZXMgYXMgJF92YWx1ZSl7IGZvcmVhY2goJGF0dHJbJHBhcmFtXVsnb3B0aW9ucyddIGFzICRfayA9PiAkX3YpeyBpZiAoJF92ID09ICRfdmFsdWUpeyAkcHJlcGFyZV92YWx1ZXNbXSA9ICRfazsgYnJlYWs7IH0gfSB9ICRtb2RlbC0+Z2V0UmVxdWVzdCgpLT5zZXRRdWVyeSgkcGFyYW0sIGltcGxvZGUoJywnLCAkcHJlcGFyZV92YWx1ZXMpKTsgfSB9IH0gZm9yZWFjaCAoJHBhcmFtc1snX3F1ZXJ5J10gYXMgJHBhcmFtID0+ICR2YWx1ZSl7IGlmICgkdmFsdWUpeyAkYXR0cmlidXRlTW9kZWwgPSBNYWdlOjpnZXRNb2RlbCgnZWF2L2VudGl0eV9hdHRyaWJ1dGUnKS0+bG9hZEJ5Q29kZSgnY2F0YWxvZ19wcm9kdWN0JywgJHBhcmFtKTsgaWYgKCRwYXJhbSA9PSAnY2F0Jyl7ICR2YWx1ZXMgPSBleHBsb2RlKCcsJywgJHZhbHVlKTsgJHByZXBhcmVfdmFsdWVzID0gYXJyYXkoKTsgZm9yZWFjaCgkdmFsdWVzIGFzICRfdmFsdWUpeyAkY2F0ZWdvcnkgPSBNYWdlOjpnZXRNb2RlbCgnY2F0YWxvZy9jYXRlZ29yeScpLT5sb2FkKCRfdmFsdWUpOyBpZiAoJGNhdGVnb3J5ICYmICRjYXRlZ29yeS0+Z2V0SWQoKSl7ICRwcmVwYXJlX3ZhbHVlc1tdID0gJGNhdGVnb3J5LT5nZXREYXRhKCd1cmxfa2V5Jyk7IH0gfSAkcGFyYW1zWydfcXVlcnknXVskcGFyYW1dID0gaW1wbG9kZSgnLCcsICRwcmVwYXJlX3ZhbHVlcyk7IH1lbHNlaWYgKGlzc2V0KCRhdHRyWyRwYXJhbV0pICYmICFpbl9hcnJheSgkYXR0clskcGFyYW1dWyd0eXBlJ10sIGFycmF5KCdwcmljZScsICdkZWNpbWFsJykpKXsgJHZhbHVlcyA9IGV4cGxvZGUoJywnLCAkdmFsdWUpOyAkcHJlcGFyZV92YWx1ZXMgPSBhcnJheSgpOyBmb3JlYWNoKCR2YWx1ZXMgYXMgJF92YWx1ZSl7IGZvcmVhY2goJGF0dHJbJHBhcmFtXVsnb3B0aW9ucyddIGFzICRfayA9PiAkX3YpeyBpZiAoJF92ID09ICRfdmFsdWUpeyAkcHJlcGFyZV92YWx1ZXNbXSA9ICRfazsgYnJlYWs7IH0gfSB9ICRwYXJhbXNbJ19xdWVyeSddWyRwYXJhbV0gPSBpbXBsb2RlKCcsJywgJHByZXBhcmVfdmFsdWVzKTsgfSBlbHNlIGlmICggJGF0dHJpYnV0ZU1vZGVsLT5nZXRGcm9udGVuZElucHV0KCkgPT0gJHBhcmFtICkgeyAkYXR0cmlidXRlID0gTWFnZTo6Z2V0TW9kZWwoJ2NhdGFsb2cvcmVzb3VyY2VfZWF2X2F0dHJpYnV0ZScpLT5sb2FkKCRhdHRyaWJ1dGVNb2RlbC0+Z2V0SWQoKSk7IGlmICggKCRhdHRyaWJ1dGUtPmdldFJhbmdlT3B0aW9ucygpID09IEdvTWFnZV9OYXZpZ2F0aW9uX01vZGVsX0FkbWluaHRtbF9TeXN0ZW1fQ29uZmlnX1NvdXJjZV9GaWx0ZXJfT3B0aW9uc3JhbmdlOjpNQU5VQUxMWSB8fCAkYXR0cmlidXRlLT5nZXRSYW5nZU9wdGlvbnMoKSA9PSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX09wdGlvbnNyYW5nZTo6QVVUTykgJiYgJGF0dHJpYnV0ZS0+Z2V0RmlsdGVyVHlwZSgpID09IEdvTWFnZV9OYXZpZ2F0aW9uX01vZGVsX0xheWVyOjpGSUxURVJfVFlQRV9ERUZBVUxUICkgeyBpZiAoc3RycG9zKCR2YWx1ZSwgJzsnKSl7ICR2YWx1ZXMgPSBleHBsb2RlKCc7JywgJHZhbHVlKTsgfWVsc2UgeyAkdmFsdWVzID0gZXhwbG9kZSgnLCcsICR2YWx1ZSk7IH0gJHBhcmFtc1snX3F1ZXJ5J11bJGF0dHJpYnV0ZS0+Z2V0QXR0cmlidXRlQ29kZSgpIC4gJ19mcm9tJ10gPSAkdmFsdWVzWzBdOyAkcGFyYW1zWydfcXVlcnknXVskYXR0cmlidXRlLT5nZXRBdHRyaWJ1dGVDb2RlKCkgLiAnX3RvJ10gPSAkdmFsdWVzWzFdOyB1bnNldCgkcGFyYW1zWydfcXVlcnknXVskYXR0cmlidXRlLT5nZXRBdHRyaWJ1dGVDb2RlKCldKTsgfSBlbHNlIHsgJHZhbHVlcyA9IGV4cGxvZGUoJywnLCAkdmFsdWUpOyAkcHJlcGFyZV92YWx1ZXMgPSBhcnJheSgpOyBmb3JlYWNoKCR2YWx1ZXMgYXMgJF92YWx1ZSl7IGZvcmVhY2goJGF0dHJbJHBhcmFtXVsnb3B0aW9ucyddIGFzICRfayA9PiAkX3YpeyBpZiAoJF92ID09ICRfdmFsdWUpeyAkcHJlcGFyZV92YWx1ZXNbXSA9ICRfazsgYnJlYWs7IH0gfSB9ICRwYXJhbXNbJ19xdWVyeSddWyRwYXJhbV0gPSBpbXBsb2RlKCcsJywgJHByZXBhcmVfdmFsdWVzKTsgfSB9IH0gfSAkdXJsID0gJG1vZGVsLT5nZXRVcmwoJHJvdXRlLCAkcGFyYW1zKTsgJGFyciA9IHBhcnNlX3VybCgkdXJsKTsgJHF1ZXJ5U3RyaW5nID0gZmFsc2U7IGlmICggaXNzZXQoJGFyclsncXVlcnknXSkgKSB7IHBhcnNlX3N0cihodG1sc3BlY2lhbGNoYXJzX2RlY29kZSgkYXJyWydxdWVyeSddKSwgJHBhcik7IGlmKGlzc2V0KCRwYXJbJ2FqYXgnXSkpIHsgdW5zZXQoJHBhclsnYWpheCddKTsgfSAkcXVlcnlTdHJpbmcgPSBodHRwX2J1aWxkX3F1ZXJ5KCRwYXIpOyB9ICR1cmwgPSAkYXJyWydzY2hlbWUnXSAuICc6Ly8nIC4gJGFyclsnaG9zdCddIC4gJGFyclsncGF0aCddIC4gJz8nOyBpZiAoICRxdWVyeVN0cmluZyApIHsgJHVybCAuPSAkcXVlcnlTdHJpbmc7IH0gZm9yZWFjaCgkcmVxdWVzdF9xdWVyeSBhcyAkcGFyYW0gPT4gJHZhbHVlKXsgJG1vZGVsLT5nZXRSZXF1ZXN0KCktPnNldFF1ZXJ5KCRwYXJhbSwgJHZhbHVlKTsgfSByZXR1cm4gJHVybDsgfSBwdWJsaWMgZnVuY3Rpb24gZm9ybWF0VXJsVmFsdWUoJHZhbHVlKXsgJHZhbHVlID0gcHJlZ19yZXBsYWNlKCcjW14wLTlhLXpdKyNpJywgJ18nLCBNYWdlOjpoZWxwZXIoJ2NhdGFsb2cvcHJvZHVjdF91cmwnKS0+Zm9ybWF0KCR2YWx1ZSkpOyAkdmFsdWUgPSBzdHJ0b2xvd2VyKCR2YWx1ZSk7ICR2YWx1ZSA9IHRyaW0oJHZhbHVlLCAnLScpOyByZXR1cm4gJHZhbHVlOyB9IHB1YmxpYyBmdW5jdGlvbiBpc01vYmlsZURldmljZSgpeyAkZGV0ZWN0ID0gbmV3IE1vYmlsZV9EZXRlY3QoKTsgcmV0dXJuICRkZXRlY3QtPmlzTW9iaWxlKCk7IH0gcHVibGljIGZ1bmN0aW9uIGlzR29vZ2xlYm90KCl7IGlmKHByZWdfbWF0Y2goIi9Hb29nbGUvIixNYWdlOjpoZWxwZXIoJ2NvcmUvaHR0cCcpLT5nZXRIdHRwVXNlckFnZW50KCkpIHx8IHByZWdfbWF0Y2goIi9ib3QvIixNYWdlOjpoZWxwZXIoJ2NvcmUvaHR0cCcpLT5nZXRIdHRwVXNlckFnZW50KCkpKSB7ICRpcCA9IE1hZ2U6OmhlbHBlcignY29yZS9odHRwJyktPmdldFJlbW90ZUFkZHIoKTsgJG5hbWUgPSBnZXRob3N0YnlhZGRyKCRpcCk7IGlmKHByZWdfbWF0Y2goIi9Hb29nbGVib3QvIiwkbmFtZSkgfHwgcHJlZ19tYXRjaCgiL2JvdC8iLCRuYW1lKSkgeyAkaG9zdHMgPSBnZXRob3N0YnluYW1lbCgkbmFtZSk7IGZvcmVhY2goJGhvc3RzIGFzICRob3N0KXsgaWYgKCRob3N0ID09ICRpcCl7IHJldHVybiB0cnVlOyB9IH0gfSB9IGVsc2UgeyByZXR1cm4gdHJ1ZTsgfSByZXR1cm4gZmFsc2U7IH0gcHVibGljIGZ1bmN0aW9uIGdldEZpbHRlckl0ZW1Db3VudCgkZmlsdGVyKSB7ICRjb3VudCA9IDA7IGlmICggJGZpbHRlciAmJiAkZmlsdGVyLT5nZXRJdGVtcygpICkgeyBmb3JlYWNoKCAkZmlsdGVyLT5nZXRJdGVtcygpIGFzICRpdGVtICkgeyAkY291bnQgKz0gJGl0ZW0tPmdldENvdW50KCk7IH0gfSBpZiAoICRjb3VudCA9PSAwICYmICRmaWx0ZXItPmdldEZpbHRlcigpLT5nZXRSZXF1ZXN0VmFyVmFsdWUoKSA9PSAnc3RvY2tfc3RhdHVzJyApIHsgcmV0dXJuIDE7IH0gcmV0dXJuICRjb3VudDsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsdGVyKCkgeyAkZmlsdGVyID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9uYXZpZ2F0aW9uL2ZpbHRlci9maWx0ZXJfYnRuX3R4dCcpOyBpZiAoICRmaWx0ZXIgPT0gJycgKSB7ICRmaWx0ZXIgPSAkdGhpcy0+X18oJ0ZpbHRlcicpOyB9IHJldHVybiAkZmlsdGVyOyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRDbGVhckFsbCgpIHsgJGNsZWFyID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9uYXZpZ2F0aW9uL2ZpbHRlci9jbGVhcl9idG5fdHh0Jyk7IGlmICggJGNsZWFyID09ICcnICkgeyAkY2xlYXIgPSAkdGhpcy0+X18oJ0NsZWFyIEFsbCcpOyB9IHJldHVybiAkY2xlYXI7IH0gcHVibGljIGZ1bmN0aW9uIGdldE1vcmUoKSB7ICRtb3JlID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9uYXZpZ2F0aW9uL2ZpbHRlci9tb3JlX2J0bl90eHQnKTsgaWYgKCAkbW9yZSA9PSAnJyApIHsgJG1vcmUgPSAkdGhpcy0+X18oJ01vcmUnKTsgfSByZXR1cm4gJG1vcmU7IH0gcHVibGljIGZ1bmN0aW9uIGdldExlc3MoKSB7ICRsZXNzID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9uYXZpZ2F0aW9uL2ZpbHRlci9sZXNzX2J0bl90eHQnKTsgaWYgKCAkbGVzcyA9PSAnJyApIHsgJGxlc3MgPSAkdGhpcy0+X18oJ0xlc3MnKTsgfSByZXR1cm4gJGxlc3M7IH0gcHVibGljIGZ1bmN0aW9uIGdldFNob3dtb3JlKCkgeyAkc2hvd21vcmUgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX25hdmlnYXRpb24vZmlsdGVyL3Nob3dtb3JlX2J0bl90eHQnKTsgaWYgKCAkc2hvd21vcmUgPT0gJycgKSB7ICRzaG93bW9yZSA9ICR0aGlzLT5fXygnU2hvdyBtb3JlIHByb2R1Y3RzJyk7IH0gcmV0dXJuICRzaG93bW9yZTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0QmFja3RvdG9wKCkgeyAkYmFja3RvdG9wID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9uYXZpZ2F0aW9uL2ZpbHRlci9iYWNrdG90b3BfYnRuX3R4dCcpOyBpZiAoICRiYWNrdG90b3AgPT0gJycgKSB7ICRiYWNrdG90b3AgPSAkdGhpcy0+X18oJ0JhY2sgdG8gVG9wJyk7IH0gcmV0dXJuICRiYWNrdG90b3A7IH0gcHVibGljIGZ1bmN0aW9uIGlzRW50ZXJwcmlzZSgpIHsgaWYgKCBNYWdlOjpnZXRDb25maWcgKCktPmdldE1vZHVsZUNvbmZpZyAoICdFbnRlcnByaXNlX0VudGVycHJpc2UnICkgJiYgTWFnZTo6Z2V0Q29uZmlnICgpLT5nZXRNb2R1bGVDb25maWcgKCAnRW50ZXJwcmlzZV9BZG1pbkd3cycgKSAmJiBNYWdlOjpnZXRDb25maWcgKCktPmdldE1vZHVsZUNvbmZpZyAoICdFbnRlcnByaXNlX0NoZWNrb3V0JyApICYmIE1hZ2U6OmdldENvbmZpZyAoKS0+Z2V0TW9kdWxlQ29uZmlnICggJ0VudGVycHJpc2VfQ3VzdG9tZXInICkgKSB7IHJldHVybiB0cnVlOyB9IHJldHVybiBmYWxzZTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0U2lkZSgkdHlwZSkgeyBzd2l0Y2ggKCR0eXBlKXsgY2FzZSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX0F0dHJpYnV0ZWxvY2F0aW9uOjpMRUZUX0JMT0NLOiByZXR1cm4gJ2xlZnQnOyBicmVhazsgY2FzZSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX0F0dHJpYnV0ZWxvY2F0aW9uOjpDT05URU5UOiByZXR1cm4gJ2NvbnRlbnQnOyBicmVhazsgY2FzZSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX0F0dHJpYnV0ZWxvY2F0aW9uOjpSSUdIVF9CTE9DSzogcmV0dXJuICdyaWdodCc7IGJyZWFrOyBkZWZhdWx0OiByZXR1cm4gJ2xlZnQnOyBicmVhazsgfSB9IHB1YmxpYyBmdW5jdGlvbiBnZXRDbGVhckxpbmtVcmwoJF9maWx0ZXIpeyBpZigkX2ZpbHRlci0+Z2V0RmlsdGVyKCktPmdldFJlcXVlc3RWYXJWYWx1ZSgpICE9ICdjYXQnICYmICRfZmlsdGVyLT5nZXRGaWx0ZXIoKS0+Z2V0UmVxdWVzdFZhclZhbHVlKCkgIT0gJ3N0b2NrX3N0YXR1cycpIHsgaWYgKCAkX2ZpbHRlci0+Z2V0RmlsdGVyKCktPmdldEF0dHJpYnV0ZU1vZGVsKCktPmdldEZyb250ZW5kSW5wdXQoKSApIHsgJGF0dHJpYnV0ZSA9ICRfZmlsdGVyLT5nZXRGaWx0ZXIoKS0+Z2V0QXR0cmlidXRlTW9kZWwoKTsgaWYgKCAoaW5fYXJyYXkoJGF0dHJpYnV0ZS0+Z2V0RmlsdGVyVHlwZSgpLCBhcnJheSggR29NYWdlX05hdmlnYXRpb25fTW9kZWxfTGF5ZXI6OkZJTFRFUl9UWVBFX1NMSURFUiwgR29NYWdlX05hdmlnYXRpb25fTW9kZWxfTGF5ZXI6OkZJTFRFUl9UWVBFX1NMSURFUl9JTlBVVCwgR29NYWdlX05hdmlnYXRpb25fTW9kZWxfTGF5ZXI6OkZJTFRFUl9UWVBFX0lOUFVUX1NMSURFUikpJiYgIU1hZ2U6OmhlbHBlcignZ29tYWdlX25hdmlnYXRpb24nKS0+aXNNb2JpbGVEZXZpY2UoKSkgfHwgKCRhdHRyaWJ1dGUtPmdldEZpbHRlclR5cGUoKSA9PSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9MYXllcjo6RklMVEVSX1RZUEVfREVGQVVMVCAmJiAkYXR0cmlidXRlLT5nZXRSYW5nZU9wdGlvbnMoKSAhPSBHb01hZ2VfTmF2aWdhdGlvbl9Nb2RlbF9BZG1pbmh0bWxfU3lzdGVtX0NvbmZpZ19Tb3VyY2VfRmlsdGVyX09wdGlvbnNyYW5nZTo6Tk8pKSB7ICRwYXJhbXMgPSBhcnJheSgpOyAkcGFyYW1zWydfbm9zaWQnXSA9IHRydWU7ICRwYXJhbXNbJ19jdXJyZW50J10gPSB0cnVlOyAkcGFyYW1zWydfdXNlX3Jld3JpdGUnXSA9IHRydWU7ICRwYXJhbXNbJ19lc2NhcGUnXSA9IGZhbHNlOyAkdXJsID0gJHRoaXMtPmdldEZpbHRlclVybCgnKi8qLyonLCAkcGFyYW1zKTsgJGNsZWFuX3VybCA9ICR0aGlzLT5nZXRGaWx0ZXJVcmwoJyovKi8qJywgYXJyYXkoJ19jdXJyZW50Jz0+dHJ1ZSwgJ19ub3NpZCc9PnRydWUsICdfdXNlX3Jld3JpdGUnPT50cnVlLCAnX3F1ZXJ5Jz0+YXJyYXkoKSwgJ19lc2NhcGUnPT5mYWxzZSkpOyBpZiAoIHN0cnBvcygkY2xlYW5fdXJsLCAiPyIpICE9PSBmYWxzZSApIHsgJGNsZWFuX3VybCA9IHN1YnN0cigkY2xlYW5fdXJsLCAwLCBzdHJwb3MoJGNsZWFuX3VybCwgJz8nKSk7IH0gJHBhcmFtcyA9IHN0cl9yZXBsYWNlKCRjbGVhbl91cmwsICIiLCAkdXJsKTsgJHBhcmFtcyA9IHN0cl9yZXBsYWNlKCI/IiwgIiIsICRwYXJhbXMpOyAkcGFyQXJyYXkgPSBleHBsb2RlKCImIiwgJHBhcmFtcyk7ICRuZXdQYXJBcnJheSA9IGFycmF5KCk7IGZvcmVhY2goICRwYXJBcnJheSBhcyAkcGFyICkgeyAkZXhwYXIgPSBleHBsb2RlKCI9IiwgJHBhcik7IGlmICggJGV4cGFyWzBdICE9ICRhdHRyaWJ1dGUtPmdldEF0dHJpYnV0ZUNvZGUoKSAuICdfZnJvbScgJiYgJGV4cGFyWzBdICE9ICRhdHRyaWJ1dGUtPmdldEF0dHJpYnV0ZUNvZGUoKSAuICdfdG8nICkgeyAkbmV3UGFyQXJyYXlbXSA9ICRwYXI7IH0gfSBpZiAoICRuZXdQYXJBcnJheSApIHsgaWYgKCAkX2ZpbHRlci0+Z2V0QWpheEVuYWJsZWQoKSApIHsgcmV0dXJuICRjbGVhbl91cmwgLiAnPycgLiBpbXBsb2RlKCImIiwgJG5ld1BhckFycmF5KSAuICcmYWpheD0xJzsgfSBlbHNlIHsgcmV0dXJuICRjbGVhbl91cmwgLiAnPycgLiBpbXBsb2RlKCImIiwgJG5ld1BhckFycmF5KTsgfSB9IGVsc2UgeyBpZiAoICRfZmlsdGVyLT5nZXRBamF4RW5hYmxlZCgpICkgeyByZXR1cm4gJGNsZWFuX3VybCAuICc/YWpheD0xJzsgfSBlbHNlIHsgcmV0dXJuICRjbGVhbl91cmw7IH0gfSB9IH0gZWxzZSB7IHJldHVybiAkX2ZpbHRlci0+Z2V0Q2xlYXJMaW5rVXJsKCk7IH0gfSBlbHNlIHsgcmV0dXJuICRfZmlsdGVyLT5nZXRDbGVhckxpbmtVcmwoKTsgfSB9IHB1YmxpYyBmdW5jdGlvbiBub3RpZnkoKXsgJGZyZXF1ZW5jeSA9IGludHZhbChNYWdlOjphcHAoKS0+bG9hZENhY2hlKCdnb21hZ2Vfbm90aWZpY2F0aW9uc19mcmVxdWVuY3knKSk7IGlmICghJGZyZXF1ZW5jeSl7ICRmcmVxdWVuY3kgPSAyNDsgfSAkbGFzdF91cGRhdGUgPSBpbnR2YWwoTWFnZTo6YXBwKCktPmxvYWRDYWNoZSgnZ29tYWdlX25vdGlmaWNhdGlvbnNfbGFzdF91cGRhdGUnKSk7IGlmICgoJGZyZXF1ZW5jeSAqIDYwICogNjAgKyAkbGFzdF91cGRhdGUpID4gdGltZSgpKSB7IHJldHVybiBmYWxzZTsgfSAkdGltZXN0YW1wID0gJGxhc3RfdXBkYXRlOyBpZiAoISR0aW1lc3RhbXApeyAkdGltZXN0YW1wID0gdGltZSgpOyB9IHRyeXsgJGNoID0gY3VybF9pbml0KCk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsIHNwcmludGYoJ2h0dHBzOi8vd3d3LmdvbWFnZS5jb20vaW5kZXgucGhwL2dvbWFnZV9ub3RpZmljYXRpb24vaW5kZXgvZGF0YScpKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1QsIHRydWUpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgJ3NrdT1hZHZhbmNlZC1uYXZpZ2F0aW9uJnRpbWVzdGFtcD0nLiR0aW1lc3RhbXAuJyZ2ZXI9Jy51cmxlbmNvZGUoJzQuMicpKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1RJTUVPVVQsIDMwKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCB0cnVlKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllQRUVSLCAwKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllIT1NULCAwKTsgJGNvbnRlbnQgPSBjdXJsX2V4ZWMoJGNoKTsgJHJlc3VsdCA9IFplbmRfSnNvbjo6ZGVjb2RlKCRjb250ZW50KTsgaWYgKCRyZXN1bHQgJiYgaXNzZXQoJHJlc3VsdFsnZnJlcXVlbmN5J10pICYmICgkcmVzdWx0WydmcmVxdWVuY3knXSAhPSAkZnJlcXVlbmN5KSl7IE1hZ2U6OmFwcCgpLT5zYXZlQ2FjaGUoJHJlc3VsdFsnZnJlcXVlbmN5J10sICdnb21hZ2Vfbm90aWZpY2F0aW9uc19mcmVxdWVuY3knKTsgfSBpZiAoJHJlc3VsdCAmJiBpc3NldCgkcmVzdWx0WydkYXRhJ10pKXsgaWYgKCFlbXB0eSgkcmVzdWx0WydkYXRhJ10pKXsgTWFnZTo6Z2V0TW9kZWwoJ2FkbWlubm90aWZpY2F0aW9uL2luYm94JyktPnBhcnNlKCRyZXN1bHRbJ2RhdGEnXSk7IH0gfSB9IGNhdGNoIChFeGNlcHRpb24gJGUpe30gTWFnZTo6YXBwKCktPnNhdmVDYWNoZSh0aW1lKCksICdnb21hZ2Vfbm90aWZpY2F0aW9uc19sYXN0X3VwZGF0ZScpOyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRJc0FueW1vcmVWZXJzaW9uKCRtYWpvciwgJG1pbm9yLCAkcmV2aXNpb24gPSAwKSB7ICR2ZXJzaW9uX2luZm8gPSBNYWdlOjpnZXRWZXJzaW9uKCk7ICR2ZXJzaW9uX2luZm8gPSBleHBsb2RlKCcuJywgJHZlcnNpb25faW5mbyk7IGlmICgkdmVyc2lvbl9pbmZvWzBdID4gJG1ham9yKSB7IHJldHVybiB0cnVlOyB9IGVsc2VpZiAoJHZlcnNpb25faW5mb1swXSA9PSAkbWFqb3IpIHsgaWYgKCR2ZXJzaW9uX2luZm9bMV0gPiAkbWlub3IpIHsgcmV0dXJuIHRydWU7IH0gZWxzZWlmICgkdmVyc2lvbl9pbmZvWzFdID09ICRtaW5vcikgeyBpZiAoJHZlcnNpb25faW5mb1syXSA+PSAkcmV2aXNpb24pIHsgcmV0dXJuIHRydWU7IH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfSB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0gfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9IH0gfQ=="));